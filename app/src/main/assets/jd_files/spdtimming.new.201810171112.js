(function(e,n){var t="spdtimming.new";if(!window.__SPD_AUTO&&window.modulejs&&typeof define=="function"){define(t,n)}else{n()}})(this,function(require,exports,e){var n=Math.random(),t="spdh5_net",o=navigator.userAgent,r=window.__DBG_SPD_RPT_URL||(window.__DBG_SPD_PRE||"//fd.3.cn/cesu")+"/r?",i=["navigationStart","unloadEventStart","unloadEventEnd","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","requestStart","responseStart","responseEnd","domLoading","domInteractive","domContentLoadedEventStart","domContentLoadedEventEnd","domComplete","loadEventStart","loadEventEnd"],a=/(^|\s|;)+MicroMessenger\/([^;\s$]+)/g.exec(o),c=/(^|\s|;)+QQ\/([^;\s$]+)/g.exec(o),d=/(^|\s|;)+JZYC\/([^;\s$]+)/g.exec(o),f={android:[/(Android);?[\s\/]+([\d.]+)?/,[1,2]],ios:[/((iPad)|(iPod)|(iPhone)).*\s+OS\s+([\d_]+)/,function(e){return["ios",e[5]?e[5].replace(/_/g,"."):""]}],unknow:[/(Android);?[\s\/]+([\d.]+)?/],win:[/(\(|\s)*(Windows)[^\d.]+([\d\.]+).*((WOW64)*)/gi,[2,3]]},w={},u=_(),s=null,l=0,v=false;OS=S(o);var g=true;function p(e,n,t,o,r){if(void 0==n){if(window.JD&&JD.cookie){return JD.cookie.get(e)}else{var i=document.cookie,a;if(a=new RegExp("(^|;)\\s*"+e+"=([^;$]+)").exec(document.cookie)){return a[2]}}return null}else{var i=e+"="+encodeURIComponent(n);t&&(i+=";domain="+t);o&&(i+=";path="+o);if(r){var c=new Date;c.setTime((new Date).getTime()+r*1e3);i+=";expires="+c.toGMTString()}document.cookie=i}}function m(){var e=(window.performance||window.webkitPerformance||{}).timing;if(!e){return null}return e.navigationStart||e.fetchStart}function _(){return window.screen.width+","+window.screen.height+"	"+(window.devicePixelRatio||0)+"	"}function h(e,n){if(!g){return}var t=e||window._PFM_TIMING;if((!t||t.length<1)&&i.rptStat){return}if(typeof window.athenaFdSetting=="object"){if(window.athenaFdSetting.switch!=1){var o=window.athenaFdSetting.pidWhitelist||"";var r=o.split(",");var a=r.length;var c=false;var d=t[0][0];for(var f=0;f<a;f++){if(d==r[f]){c=true;break}}if(!c){return}}}T(function(e){try{y(e,t)}catch(n){console.error(n.stack||n)}})}function k(e){e&&e();window.onunload=function(){try{R.clear();h(window._PFM_TIMING,true)}catch(e){console.error(e)}}}function S(e){var n,t;for(var o in f){t=f[o];if(t[0]instanceof Function){n=t[0](e);return o+=n[1]?" "+n[1]:""}else if(n=t[0].exec(e)){if(t.length>1){if(t[1]instanceof Function){n=t[1](n)}else if(t[1]instanceof Array){n=[n[t[1][0]],n[t[1][1]]]}}return o+=n[1]?" "+n[1]:""}}return"other"}function P(e){var n=[];for(var t in e){e.hasOwnProperty(t)&&n.push(t+"="+encodeURIComponent(e[t]))}return n.join("&")}function E(e){var n=new Image;window["_spd_img_cache"+l++]=n;n.idx=l;n.onload=n.onerror=n.onabort=function(e){var n=e.target;n.onload=n.onerror=n.onabort=null;delete window["_spd_img_cache"+n.idx]};n.src=e}function D(e,n){var t;t=function(){t.clear();var o;t.th=setTimeout(function(){e.apply(null,o);t.th=0},n)};t.clear=function(){if(t.th){clearTimeout(t.th);t.th=0}};return t}function T(e){if(window.JD&&JD.device){JD.device.getNetwork(e)}else{var n=/(\s|;)+NetType\/([^\s;\/]+)/g.exec(o);if(n&&n[2]){var t="unknow";n[2]=n[2].toLowerCase();switch(n[2]){case"ctnet":case"cmnet":case"cunet":s=n[2].substr(0,2);t="3g";break;case"ctwap":case"cmwap":case"cuwap":s=n[2].substr(0,2);t="2g";break;default:s=null}e(t)}else{try{if(a){document.addEventListener("WeixinJSBridgeReady",function(n){console.log("WXReady");setTimeout(function(){WeixinJSBridge.invoke("getNetworkType",{},function(n){var t=n.err_msg||"unknow";if(t.indexOf(":")!=-1){t=t.split(":")[1]||"unknow"}if(t=="edge"){t="3g"}else if(t=="wwan"){t="4g"}else if(t=="fail"){t="unknow"}e(t)})},500)})}else if(c){if(window.mqq&&mqq.device){mqq.invoke("device","getNetworkInfo",function(n){var t={"-1":"unknow",0:"unknow",1:"wifi",2:"2G",3:"3G",4:"4G"}[n.type]||"unknow";e(t)})}else{e("unknow")}}else if(d){if(window.WQAPI&&WQAPI.network){e(String(WQAPI.network.type()).toLowerCase())}else{e("unknow")}}else{e("unknow")}}catch(r){console.error("Error",r);e("unknow")}}}}function x(e){if(!e){return 0}if(e instanceof Date){return e.getTime()}return e}function y(e,t){var o=(window.performance||window.webkitPerformance).timing,a=m(),c,d=!!window.__SPD_RPT_REPEAT,f;console.log("---RptData--",t);var l=0,g=0,_,h=0,k,S=0,D=0;if(t){k=t[0];if(!k||!(k instanceof Array)){console.error("Invalide data for report",t);return}l=x(k[1]);D=k[0];S=k[2]||0}if(!l||!D){console.error("Invalide data for report",t);return}g=(window.performance||window.webkitPerformance).now()-((new Date).getTime()-l);var T={pid:D,os:OS?OS.replace(/%20/g,""):"other",apn:(e||"").toLowerCase(),wq_area:p("wq_area"),_:n=n+1};for(var y=1,R=t.length;y<R;y++){(d||!w[y])&&(_=t[y])&&(_=_-l)>0&&(T["s"+y]=_)&&(w[y]=1)&&h++;t[y]=null}if(window._PFM_PERFORMANCE==true){if(!i.rptStat){i.rptStat=1;for(y=1,R=i.length;R>y;y++){c=x(o[i[y]]),c=c?c-a:0,c>0&&(T["p"+y]=c)&&h++}T["p"+i.length]=Math.floor(g)}}if(h>0){if(!v){T["ext"]=u;v=true}s&&(T["oper"]=s);E(r+P(T))}}var R=D(h,1e3);var I={report:R};window.__SPD_RPT=I;k(function(){R()});if(typeof require=="function"&&e){e.exports=exports=I}else{return I}});